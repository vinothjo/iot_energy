<!DOCTYPE html>
<!--[if lt IE 7]>      <html class="no-js lt-ie9 lt-ie8 lt-ie7"> <![endif]-->
<!--[if IE 7]>         <html class="no-js lt-ie9 lt-ie8"> <![endif]-->
<!--[if IE 8]>         <html class="no-js lt-ie9"> <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js"> <!--<![endif]-->
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    <title>Flask-DataTables</title>
    <meta name="description" content="This is a Flask (Python microframework) use Datatables.js Ajax source application.">
    <meta name="author" content="rosickey">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/jquery-ui.css') }}">
	<link rel="stylesheet" href="{{ url_for('static', filename='css/bootstrap.css') }}">
	
	<script src="{{ url_for('static', filename='js/jquery-1.8.1.min.js') }}"></script>
	<script src="{{ url_for('static', filename='js/bootstrap.js') }}"></script>
	<script src="{{ url_for('static', filename='js/jquery.dataTables.min.js') }}"></script>
</head>

<script>
$(document).ready(function() {
	$('#example').dataTable( {
		"sDom": "<'row-fluid'<'span6 toolbar'><'span6'>r>t<'row-fluid'<'span6'f><'span6'p>>",
		"bProcessing": true,
		"bjQueryUI": true,
		"sAjaxSource": "{{ url_for('get_server_data') }}",
	});
} );
</script>
<!--
                <body>
                    <div class="container">

                        <h1>
                            Client
                        </h1>

                        <table id="dt_table" class="table table-striped table-responsive">
                            <thead>
                            <tr>
                                <th>Client Name</th>
                                <th>UEN No</th>
                                <th>Contract Start Date</th>
                                <th>Contract End Date</th>
                            </tr>
                            </thead>
                        </table>


                    <script>
                        $(function () {
                            
                            $('#dt_table').on(click.(function()){alert('kjjljl');
                                });
                            
                            $('#dt_table').DataTable({
                                serverSide: true,
                                ajax: {
                                    url: '{{ url_for('Admin.api_db', collection='client') }}',
                                    dataSrc: 'data',
                                    type: 'GET',
                                    dataType: 'json',
                                    data: function (args) {
                                        //args.qString = getQuerystring(); //add in querystring args, or anything else you want
                                        return {
                                            "args": JSON.stringify(args)
                                        };
                                    }
                                },
                                columns: [
                                    {data: '_id'},
                                    {data: 'value'},
                                    {data: 'contract_start_date'},
                                    {data: 'contract_end_date'}
                                ]
                            });

                        });

                        // in case you want to pass the querystring along with the request
                        function getQuerystring() {
                            var $qItems = $('#qItems');
                            $qItems.empty();
                            var hash;
                            var filters = {};
                            var q = document.URL.split('?')[1];
                            if (q != undefined) {
                                q = q.split('&');
                                for (var i = 0; i < q.length; i++) {
                                    hash = q[i].split('=');
                                    filters[hash[0]] = hash[1];
                                }
                            }
                            return filters
                        }
                    </script>
                    </div>
                </body>
-->

<body>
	<div class="container">
	<table class='table' id='example'>
		<thead>
			<tr>
				{% for col in columns %}
				<th>{{ col }}</th>
				{% endfor %}
			</tr>
		</thead>
	</table>
	</div>
</body>

<footer class="footer">
	<div class="container">
    <ul class="footer-links">
        <li>Â© 2013</li>
        <li><a href='https://github.com/imwilsonxu/flask-datatables'>About</a></li>
	</ul>
	</div>
</footer>

</html>
